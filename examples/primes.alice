#!/usr/local/bin/alice
"strings.alice" include
"io.alice"      include

# this is also a nice benchmark to show how slow the language is:
# on my machine (i7 from 2017), generating all primes up to 10000
# takes about 1.2 seconds
# while bc, using the same algorithm, takes about 0.2 seconds

"":primes
"generate all primes to: "P

read-num
1 +
while (-- d) {
    d
    if ?prime {
        d primes "\n" rot rot 3 concatn
        :primes
    } fi
} do

primes "primes.txt" writef
